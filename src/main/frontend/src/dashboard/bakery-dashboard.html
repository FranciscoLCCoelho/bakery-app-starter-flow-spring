<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/vaadin-board/vaadin-board.html">
<link rel="import" href="../../bower_components/vaadin-board/vaadin-board-row.html">

<link rel="import" href="dashboard-orders-counter.html">
<link rel="import" href="dashboard-column-chart.html">
<link rel="import" href="dashboard-yearly-sales.html">
<link rel="import" href="dashboard-pie-chart.html">
<link rel="import" href="dashboard-orders-list.html">


<dom-module id="bakery-dashboard">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        width: 100%;
        margin: 24px;
      }

      @media screen and (min-width: 600px) {
        :host {
          margin:6px;
        }
      }
      dashboard-pie-chart, dashboard-orders-list {
      	box-shadow: 0 2px 5px 0 rgba(23, 68, 128, 0.1);
        border-radius: 4px;
      	padding: 1px;
      }

      vaadin-board vaadin-board-row:nth-child(2) > * {
        --column-chart-height: {
          height: calc(20vh - 64px) !important;
          min-height: 150px;
        }
      }

      vaadin-board-row:not(.small) dashboard-column-chart:first-child {
        --column-chart-margin: {
          margin: 12px 12px 12px 0px;
        };
      }

      vaadin-board-row:not(.small) dashboard-column-chart:last-child {
        --column-chart-margin: {
          margin: 12px 0px 12px 12px;
        };
      }

      vaadin-board-row.small > * {
        --column-chart-margin: {
          margin: 6px 0px;
        };
      }

    </style>

    <vaadin-board>
      <vaadin-board-row>
        <dashboard-orders-counter></dashboard-orders-counter>
        <dashboard-orders-counter></dashboard-orders-counter>
        <dashboard-orders-counter></dashboard-orders-counter>
        <dashboard-orders-counter></dashboard-orders-counter>
      </vaadin-board-row>
      <vaadin-board-row>
        <dashboard-column-chart data="[[deliveriesThisMonth]]"></dashboard-column-chart>
        <dashboard-column-chart data="[[deliveriesThisYear]]"></dashboard-column-chart>
      </vaadin-board-row>
      <vaadin-board-row>
        <dashboard-yearly-sales series="[[salesGraphSeries]]" title="[[salesGraphTitle]]"></dashboard-yearly-sales>
      </vaadin-board-row>
      <vaadin-board-row>
        <dashboard-pie-chart style="height: calc(43vh - 64px) !important;"></dashboard-pie-chart>
        <dashboard-orders-list style="height: calc(43vh - 64px) !important;" id="orders-list" orders="[[orders]]"></dashboard-orders-list>
      </vaadin-board-row>
    </vaadin-board>
  </template>

  <script>
    class BakeryDashboard extends Polymer.Element {
      static get is() {
        return 'bakery-dashboard';
      }
    }

    window.customElements.define(BakeryDashboard.is, BakeryDashboard);
  </script>
</dom-module>
