<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/typography.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/color.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/sizing-and-spacing.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/style.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/icons.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-button.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-text-field.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-checkbox.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-date-picker.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-form-layout.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-form-item.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-combo-box.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-grid.html">

<!-- valo theme shows clear icons in date-picker and combo-box, but we want it hidden in bakery app -->
<dom-module id="bakery-combo-box-date-picker-styles" theme-for="vaadin-combo-box vaadin-date-picker">
  <template>
    <style>
      [part="clear-button"] {
        display: none;
      }
    </style>
  </template>
</dom-module>

<!-- theme for vaadin-buttons in menus -->
<dom-module id="bakery-button-styles" theme-for="vaadin-button">
  <template>
    <style>
      :host([theme~="menu"]) [part="button"] {
        text-align: left;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([theme~="menu"]) {
        margin: 0;
        padding: 0;
        --valo-size: var(--valo-size-s);
      }

      :host([theme~="narrow"]) [part="button"] {
        padding: 0 calc(var(--valo-size, var(--valo-size-m)) / 8 + var(--valo-button-border-radius, var(--valo-border-radius)) / 2);
      }
    </style>
  </template>
</dom-module>

<!-- Theme for the status selector, we need to theme the text-field instead of the combo-box -->
<dom-module id="bakery-text-field-styles" theme-for="vaadin-text-field">
  <template>
    <style>
      :host([theme~="status"][status="new"]) [part~="input-field"],
      :host([theme~="status"][status="confirmed"]) [part~="input-field"] {
        color: var(--valo-primary-color);
        background: var(--valo-primary-color-10pct);
      }

      :host([theme~="status"][status="ready"]) [part~="input-field"],
      :host([theme~="status"][status="delivered"]) [part~="input-field"] {
        color: var(--valo-success-color);
        background: var(--valo-success-color-10pct);
      }

      :host([theme~="status"][status="problem"]) [part~="input-field"],
      :host([theme~="status"][status="cancelled"]) [part~="input-field"] {
        color: var(--valo-error-color);
        background: var(--valo-error-color-10pct);
      }

      :host([theme~="center"]) [part="value"] {
        text-align: center;
      }
    </style>
  </template>
</dom-module>

<!-- Theme for the vaadin-overlays -->
<dom-module id="bakery-overlay-styles" theme-for="vaadin-overlay">
  <template>
    <style include="vaadin-overlay-default-theme">
      [part="content"] {
        background: var(--valo-base-color) !important;
      }
    </style>
  </template>
</dom-module>

<!-- Theme for the vaadin-combo-box-items -->
<dom-module id="bakery-combo-box-item-styles" theme-for="vaadin-combo-box-item">
  <template>
    <style include="vaadin-combo-box-item-default-theme">
      :host(:not([touch-device]):hover),
      :host([focused]) {
        background: var(--valo-base-color);
        background-image: linear-gradient(var(--valo-tint-5pct), var(--valo-tint-5pct));
      }

      :host([selected])::before {
        content: "";
      }
    </style>
  </template>
</dom-module>

<!-- Theme for the vaadin-grid -->
<dom-module id="bakery-grid-styles" theme-for="vaadin-grid">
  <template>
    <style include="vaadin-grid-default-theme">
      [part~="header-cell"]:not(:empty):not([details-cell]) {
        padding-top: var(--valo-space-l);
        padding-bottom: var(--valo-space-m);

        font-size: var(--valo-font-size-s);
        border-bottom: 1px solid var(--valo-shade-5pct);
      }

      [part~="body-cell"] {
        border-bottom: 1px solid var(--valo-shade-5pct);
      }

      /* a special grid theme for the bakery storefront view */
      :host([theme~="storefront-grid"]) {
        background: transparent;
      }

      :host([theme~="storefront-grid"]) [part~="header-cell"] {
        display: none;
      }

      :host([theme~="storefront-grid"]) [part~="cell"]:not(:empty):not([details-cell]) {
        padding: 0;
      }

      :host([theme~="storefront-grid"]) [part~="body-cell"] {
        border-bottom: none;
        background: transparent;
      }
    </style>
  </template>
</dom-module>


<!-- style for the main page -->
<custom-style>
  <style is="custom-style" include="valo-colors valo-typography">
    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      background: var(--valo-shade-10pct);
    }

    bakery-app {
      height: 100%;
    }
  </style>
</custom-style>

<!-- shared styles for all views -->
<dom-module id="shared-styles">
  <template>
    <style>
      *,
      *::before,
      *::after,
      ::slotted(*) {
        box-sizing: border-box;
      }

      :host([hidden]) {
        display: none !important;
      }

      h2,
      h3 {
        margin-top: var(--valo-space-m);
        margin-bottom: var(--valo-space-s);
      }

      h2 {
        font-size: var(--valo-font-size-xxl);
      }

      h3 {
        font-size: var(--valo-font-size-xl);
      }

      .overflow-auto {
        overflow: auto;
      }

      .card {
        background: var(--valo-base-color);
        background-image: linear-gradient(var(--valo-tint-5pct), var(--valo-tint-5pct));
        border-radius: var(--valo-border-radius);
        box-shadow: 0 3px 5px #ddd;
      }

      .scrollable {
        padding: var(--valo-space-m);
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }

      .footer {
        display: flex;
        flex-wrap: wrap;
        transition: box-shadow .2s;
        justify-content: space-between;
        padding: var(--valo-space-s);
        align-items: baseline;
      }

      :host([scroll-shadow]) .footer {
        box-shadow: 0 -1px 5px var(--valo-shade-20pct);
      }

      .count {
        display: inline-block;
        background: var(--valo-shade-10pct);
        border-radius: var(--valo-border-radius);
        font-size: var(--valo-font-size-s);
        padding: 0 var(--valo-space-s);
        text-align: center;
      }

      .money {
        text-align: right;
      }

      .total {
        flex: 1;
        order: -1;
        box-sizing: border-box;
        padding: 0 var(--valo-space-s);
        min-width: 100%;
        font-size: var(--valo-font-size-l);
        font-weight: bold;
        white-space: nowrap;
      }

      @media (min-width: 600px) {
        .total {
          min-width: 0;
          order: 0;
          padding: 0 var(--valo-space-l);
        }
      }

      .baseline {
        align-items: baseline;
      }

      .flex {
        display: flex;
      }

      .flex0 {
        flex: 0;
      }

      .flex1 {
        flex: 1;
      }

      .flex2 {
        flex: 2;
      }

      .flex5 {
        flex: 5;
      }

      .flex9 {
        flex: 9;
      }

      .column {
        flex-direction: column;
      }

      .bold {
        font-weight: 600;
      }

      .align-center {
        align-items: center;
      }

      .justify-center {
        justify-content: center;
      }
    </style>
  </template>
</dom-module>