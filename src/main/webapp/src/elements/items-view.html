<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../app/bakery-search.html">
<link rel="import" href="item-detail-dialog.html">

<dom-module id="items-view">
  <template>
    <style include="shared-styles">
      :host {
        display: flex;
        flex: 1;
        flex-direction: column-reverse;
        box-sizing: border-box;
      }

      .grid-wrapper {
        flex: 1;
        position: relative;
      }

      .grid-wrapper ::slotted([slot="items-grid"]) {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        color: var(--valo-secondary-text-color);
      }

      @media (min-width: 600px) {
        :host {
          flex-direction: column;
        }

        .grid-wrapper {
          max-width: calc(964px + var(--valo-space-m)) !important;
          margin: 0 auto;
        }
      }
    </style>

    <slot name="item-search"></slot>

    <div class="flex flex1 overflow-auto">
      <div class="grid-wrapper">
        <slot name="grid"></slot>
      </div>

      <div class="editor-wrapper">
        <item-detail-dialog opened="[[editing]]" side="right" desktop-view$=[[desktopView]]>
          <slot name="editor"></slot>
        </item-detail-dialog>
      </div>
    </div>
  </template>

  <script>
    class ItemsView extends Polymer.Element {
      static get is() {
        return 'items-view';
      }

      static get properties() {
        return {
          desktopView: Boolean,
          editing: {
            type: Boolean,
            value: false,
            reflectToAttribute: true
          }
        };
      }

    }

    window.customElements.define(ItemsView.is, ItemsView);
  </script>
</dom-module>
